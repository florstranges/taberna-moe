(this["webpackJsonptaberna-moe"]=this["webpackJsonptaberna-moe"]||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var i=c(1),a=c(2),n=c.n(a),r=c(28),s=c.n(r),j=(c(36),c(37),c.p+"static/media/moe.7c425d2a.png"),o=c(6),d=(c(38),c.p+"static/media/birra.9b1ffaa0.png"),l=c(30),b=Object(a.createContext)(),O=function(){return Object(a.useContext)(b)},u=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(o.a)(c,2),r=n[0],s=n[1],j=Object(a.useState)(0),d=Object(o.a)(j,2),O=d[0],u=d[1],h=Object(a.useState)(0),x=Object(o.a)(h,2),m=x[0],p=x[1];return Object(i.jsx)(b.Provider,{value:{cart:r,totalQty:O,totalPrice:m,addToCart:function(e,t){var c=r.findIndex((function(t){return t.item.id===e.item.id}));if(u(O+t),-1!==c){var i=Array.from(r);r[c].cantidad+=e.cantidad,s(i)}else s([].concat(Object(l.a)(r),[e])),p(m+e.item.price*e.cantidad)},removeItem:function(e,t,c){var i=r.filter((function(t){return t.item.id!==e}));s(i),p(m-t),u(O-c)},clearCart:function(){s([]),p(0),u(0)}},children:t})};function h(){var e=O(),t=e.cart,c=e.totalQty,n=e.removeItem,r=Object(a.useState)(!1),s=Object(o.a)(r,2),j=s[0],l=s[1];return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"cerveCarrito",onClick:function(){return l(!0)},children:[Object(i.jsx)("img",{src:d,alt:"Carrito Birra",className:"CarritoBirra"}),Object(i.jsx)("div",{className:"cerveCarritoFondo",children:Object(i.jsx)("p",{children:c})})]}),j&&Object(i.jsxs)("div",{className:"cerveCarritoOpen",children:[t.map((function(e,t){return Object(i.jsxs)("div",{className:"cartDetail",children:[Object(i.jsx)("p",{children:Object(i.jsx)("strong",{children:e.item.title})}),Object(i.jsxs)("p",{children:["Cantidad: ",e.cantidad]}),Object(i.jsxs)("p",{children:["Precio por unidad: ",e.item.price]}),Object(i.jsxs)("p",{children:["Precio total: ",e.item.price*e.cantidad]}),Object(i.jsx)("button",{onClick:function(){return n(e.item.id,e.item.price*e.cantidad,e.cantidad)},children:"Eliminar item"})]},t)})),Object(i.jsx)("button",{onClick:function(){return l(!1)},children:"Cerrar"})]})]})}var x=c(9),m=function(){var e=O().cart;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("header",{className:"navbar",children:[Object(i.jsxs)("div",{className:"logo",children:[Object(i.jsx)("img",{src:j,alt:"Moe",className:"moe"}),Object(i.jsx)(x.c,{to:"/",children:Object(i.jsx)("h1",{children:"Taberna de Moe"})})]}),Object(i.jsxs)("div",{className:"nav",children:[Object(i.jsxs)("nav",{children:[Object(i.jsx)(x.c,{to:"/cervezas",className:"nav__a",children:"Cervezas"}),Object(i.jsx)(x.c,{to:"/vodka",className:"nav__a",children:"Vodka"}),Object(i.jsx)(x.c,{to:"/carrito",className:"nav__a",children:"Carrito"})]}),!!e.length&&Object(i.jsx)(h,{})]})]})})},p=(c(43),c(44),function(e){var t=e.id,c=e.title,a=e.price,n=e.picture;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:n,alt:"title-id"})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("hr",{}),Object(i.jsx)("span",{children:c}),Object(i.jsx)("hr",{}),Object(i.jsxs)("p",{className:"price",children:["$",a]})]}),Object(i.jsx)("div",{className:"item__detalle",children:Object(i.jsx)(x.c,{to:"/item/".concat(t),children:"Ver Detalle"})})]})})}),f=(c(45),function(e){var t=e.items;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"bloque",children:t.length>0?t.map((function(e){return Object(i.jsx)("div",{className:"itemList",children:Object(i.jsx)(p,{id:e.id,title:e.data.title,price:e.data.price,picture:e.data.picture},e.category)})})):Object(i.jsx)("p",{children:"Buscando Productos.."})})})}),v=c(19),g=(c(27),v.a.initializeApp({apiKey:"AIzaSyCUfgJKkM7J2p8Lc29V9HdCGqtd1S97Yx0",authDomain:"taberna-moe-react.firebaseapp.com",projectId:"taberna-moe-react",storageBucket:"taberna-moe-react.appspot.com",messagingSenderId:"523964431413",appId:"1:523964431413:web:d22f481d17a4c5693bc57c"})),N=function(){return v.a.firestore(g)},C=function(e){var t=e.category,c=void 0===t?null:t,n=Object(a.useState)([]),r=Object(o.a)(n,2),s=r[0],j=r[1],d=N();return Object(a.useEffect)((function(){c?d.collection("items").where("category","==",c).get().then((function(e){var t=[];e.forEach((function(e){t.push({id:e.id,data:e.data()})})),j(t)})).catch((function(e){console.log(e)})):d.collection("items").get().then((function(e){var t=[];e.forEach((function(e){t.push({id:e.id,data:e.data()})})),j(t)})).catch((function(e){console.log(e)}))}),[]),Object(i.jsx)("div",{children:Object(i.jsx)(f,{items:s})})};c(47);var _=function(){return Object(i.jsx)("footer",{className:"footer",children:Object(i.jsx)("p",{children:"\xa9 P\xe1gina creada por Florencia Stranges"})})},k=c(4),y=(c(48),function(){var e=O(),t=e.cart,c=e.totalPrice,a=e.removeItem,n=e.clearCart;return Object(i.jsxs)("div",{className:"carrito",children:[Object(i.jsx)("h1",{children:"Carrito"}),t.length>0?Object(i.jsxs)("div",{className:"carritoContenedor",children:[Object(i.jsx)("div",{className:"carritoTotal",children:t.map((function(e,t){return Object(i.jsxs)("div",{className:"cartDetail",children:[Object(i.jsx)("p",{children:Object(i.jsx)("strong",{children:e.item.title})}),Object(i.jsxs)("p",{children:["Cantidad: ",e.cantidad]}),Object(i.jsxs)("p",{children:["Precio por unidad: $",e.item.price]}),Object(i.jsxs)("p",{children:["Precio total: $",e.item.price*e.cantidad]}),Object(i.jsx)("button",{onClick:function(){return a(e.item.id,e.item.price*e.cantidad,e.cantidad)},children:"Eliminar item"})]},t)}))}),Object(i.jsxs)("div",{className:"total__botones",children:[Object(i.jsx)("hr",{}),Object(i.jsx)("p",{children:Object(i.jsxs)("strong",{children:["Precio total: $",c]})}),Object(i.jsx)("hr",{}),t.length>0&&Object(i.jsx)("button",{className:"carrito_vacio",onClick:n,children:"Vaciar carrito"}),Object(i.jsx)(x.b,{to:"/checkout",className:"carrito_final",children:"Terminar compra"})]})]}):Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"carritoVacioMensaje",children:[Object(i.jsx)("p",{children:"El carrito est\xe1 vac\xedo"}),Object(i.jsx)(x.b,{to:"/",className:"carritoVacioBoton",children:"Volver al inicio"})]})})]})}),S=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{className:"item__titulo",children:"Cervezas"}),Object(i.jsx)(C,{category:"cerveza"})]})},F=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{className:"item__titulo",children:"Vodka"}),Object(i.jsx)(C,{category:"vodka"})]})};c(49),c(50);var P=function(e){var t=e.stock,c=e.initial,n=e.onAdd,r=Object(a.useState)(c),s=Object(o.a)(r,2),j=s[0],d=s[1];return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"producto",children:[Object(i.jsxs)("p",{children:["Cantidad: ",j," "]}),Object(i.jsx)("button",{onClick:function(){j>c&&d(j-1)},className:"botonAccion",children:"-"}),Object(i.jsx)("button",{onClick:function(){j>=c&&j<t&&d(j+1)},className:"botonAccion",children:"+"}),Object(i.jsx)("button",{onClick:function(e){return n(e,j)},className:"agregar",children:"Agregar al carrito"})]})})},B=function(e){var t=e.item,c=O().addToCart,n=Object(a.useState)(!0),r=Object(o.a)(n,2),s=r[0],j=r[1];return Object(i.jsxs)("div",{className:"itemDetail",children:[Object(i.jsx)("div",{className:"itemDetails",children:Object(i.jsx)("img",{src:t.picture,alt:"Imagen_producto",className:"itemDetail__img"})}),Object(i.jsxs)("div",{className:"texto",children:[Object(i.jsx)("h3",{children:t.title}),Object(i.jsxs)("p",{className:"itemDetail__serial",children:["S/N ",t.category]}),Object(i.jsx)("p",{children:t.description}),Object(i.jsxs)("p",{className:"itemDetail__precio",children:["$ ",t.price]}),s&&Object(i.jsx)(P,{stock:10,initial:1,onAdd:function(e,i){e.stopPropagation(),c({cantidad:i,item:t},i),j(!1)}}),!s&&Object(i.jsx)(x.b,{to:"/carrito",children:"Comprar"})]})]})},D=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(k.f)().id;return Object(a.useEffect)((function(){N().collection("items").doc(r).get().then((function(e){e.exists&&n(e.data())})).catch((function(e){console.log(e)}))}),[]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{children:c?Object(i.jsx)(B,{item:c}):Object(i.jsx)("p",{children:"Buscando producto..."})})})},I=(c(51),c.p+"static/media/moeHappy.53ed5692.png"),T=function(){var e=O().totalPrice,t=Object(a.useState)(""),c=Object(o.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),j=Object(o.a)(s,2),d=j[0],l=j[1],b=Object(a.useState)(""),u=Object(o.a)(b,2),h=u[0],x=u[1],m=O(),p=m.cart,f=m.clearCart,g=Object(a.useState)(),C=Object(o.a)(g,2),_=C[0],k=C[1];return Object(i.jsx)(i.Fragment,{children:_?Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("section",{className:"compraRealizada",children:[Object(i.jsx)("h2",{children:"Compra realizada con exito!"}),Object(i.jsxs)("p",{children:["Tu numero de orden es: ",Object(i.jsx)("strong",{children:_})," "]}),Object(i.jsx)("img",{src:I,alt:"Moe Happy",className:"moeHappy"})]})}):Object(i.jsx)("section",{className:"checkout",children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h1",{children:"Checkout"}),Object(i.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c={buyer:{name:n,phone:d,email:h},date:v.a.firestore.FieldValue.serverTimestamp(),items:p,total:e};N().collection("orders").add(c).then((function(e){var t=e.id;f(),k(t)})).catch((function(e){console.log(e)})).finally(console.log(c))},className:"formCheckout",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"Nombre y Apellido:"}),Object(i.jsx)("input",{value:n,onChange:function(e){r(e.target.value)},type:"text",required:!0})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"Telefono:"}),Object(i.jsx)("input",{value:d,onChange:function(e){l(e.target.value)},type:"text",required:!0})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"Correo Electr\xf3nico:"}),Object(i.jsx)("input",{value:h,onChange:function(e){x(e.target.value)},type:"email",required:!0})]}),Object(i.jsx)("button",{type:"submit",children:"Comprar"})]})]})})})},z=c.p+"static/media/Moes_Bar.ee3bbd38.jpg",A=(c(52),function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"moeBar",children:Object(i.jsx)("img",{src:z,alt:"Bar de Moe",className:"moeBar"})}),Object(i.jsx)("div",{className:"item__titulo",children:Object(i.jsx)("h1",{children:"Nuestros Productos"})})]})});var E=function(){return Object(i.jsx)(u,{children:Object(i.jsxs)(x.a,{children:[Object(i.jsx)(m,{}),Object(i.jsxs)(k.c,{children:[Object(i.jsxs)(k.a,{path:"/",exact:!0,children:[Object(i.jsx)(A,{}),Object(i.jsx)(C,{})]}),Object(i.jsx)(k.a,{path:"/cervezas",children:Object(i.jsx)(S,{})}),Object(i.jsx)(k.a,{path:"/vodka",children:Object(i.jsx)(F,{})}),Object(i.jsx)(k.a,{path:"/item/:id",children:Object(i.jsx)(D,{})}),Object(i.jsx)(k.a,{path:"/checkout",children:Object(i.jsx)(T,{})}),Object(i.jsx)(k.a,{path:"/carrito",children:Object(i.jsx)(y,{})})]}),Object(i.jsx)(_,{})]})})},V=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(t){var c=t.getCLS,i=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),i(e),a(e),n(e),r(e)}))};s.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(E,{})}),document.getElementById("root")),V()}},[[53,1,2]]]);
//# sourceMappingURL=main.40e84773.chunk.js.map